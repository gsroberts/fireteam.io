@using Fireteam.Common.Helpers
@model IEnumerable<Fireteam.Models.Activity>

@{
    ViewData["Title"] = "Activities List";
}

<link rel="stylesheet" lang="text/css" href="~/css/activities.css" />

<h2>Activities</h2>

<div class="container-fluid">

    <button id="create-button" class="btn btn-primary btn-round" asp-action="Create New">
        <i class="material-icons">add</i> Create New
    </button>

    <div class="form">
        @{
            foreach (var item in Model)
            {
                <div class="container-fluid">
                    <div class="row">
                        <div class="card">
                            <div class="card-header" data-background-color="purple">
                                <h4 class="card-title">
                                    @{
                                        <span>@Html.DisplayFor(modelItem => item.Description)</span><br />
                                        <span>@(DateTimeConverter.GetLocalTime(item.StartTime, item.TimeZone).ToString("M/dd/yy h:mm tt") + " to " + DateTimeConverter.GetLocalTime(item.EndTime, item.TimeZone).ToString("M/dd/yy h:mm tt"))</span>
                                    }
                                </h4>
                                <p class="category" title="@item.TakenSlots total participants including alternates and reserved slots">@(item.AvailableSlots) Total Slots / @(item.OpenSlots) Open Slots</p>
                            </div>
                            <div class="card-content">
                                <div class="row">
                                    <label>Organizer: <button class="btn btn-primary btn-simple">@item.Organizer.UserName</button></label><br />
                                    <label>
                                        Tags:
                                        <button class="btn btn-primary btn-simple">@item.Game.Title</button>
                                        <button class="btn btn-primary btn-simple">@item.ActivityType.Name</button>
                                        <button class="btn btn-primary btn-simple">@((item.Group != null) ? item.Group.Name : "No Group")</button><br />
                                        <label>
                                            Duration: @item.DurationAsString
                                        </label>
                                    </label>
                                    <div class="form-group label-floating">
                                        <label class="control-label">
                                            Requirements
                                        </label>
                                        <textarea class="form-control" name="requirements" rows="2" disabled>@Html.DisplayFor(modelItem => item.Requirements)</textarea>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" name="isInviteOnly" checked="@item.IsInviteOnly" disabled="disabled">
                                            Invite Only?
                                        </label>
                                    </div>
                                    <div class="form-actions pull right">
                                        <button id="edit-button" class="btn btn-info" data-item-id="@item.ID">EDIT</button>
                                        <button id="view-button" class="btn btn-primary" data-item-id="@item.ID">DETAILS</button>
                                        <button id="delete-button" class="btn btn-danger" data-item-id="@item.ID">DELETE</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                                        }
        }
    </div>
</div>

<script type="text/javascript" src="lib/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="js/activity-users.js"></script>
